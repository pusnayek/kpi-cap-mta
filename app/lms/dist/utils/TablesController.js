sap.ui.define(["sap/ui/base/Object","sap/ui/model/json/JSONModel","sap/ui/model/Filter","ui/lms/utils/ServiceUrlProvider"],function(e,i,t,r){"use strict";return e.extend("ui.lms.utils.TablesController",{init:function(){var e=this;return new Promise(function(i,t){$.getJSON(r.TableConfig,function(t){e.configuration=t;i()})})},iterateTables:function(e){var i=this;var t=[...new Set(i.configuration.map(e=>e["Table"]))];$.each(t,function(i,t){e(t)})},getTables:function(e){return this.configuration.filter(function(i){return e===i.Actor})},getVisibilityModel:function(e,t){var r={CompetencyStatus:false,CompetencyGaps:false,ByEmployees:false,ByCompetencies:false,ByManagers:false,ByCompanies:false,ByDivisions:false,ByDepartments:false};$.each(t,function(e,i){r[i.Table]=true});return new i(r)},initializeTables:function(e){var i=this;var t=this.getTables(e.mode);e.getView().setModel(i.getVisibilityModel(e.mode,t),"tableVisibilityModel");var r=e.filterController.getPopulationFilter(e.userInfo.user,e.mode);$.each(t,function(i,t){var l=e.getView().byId(t.Table)||sap.ui.getCore().byId(t.Table);if(l){var n=l.getBinding("items");if(n&&n.filter){n.filter(r)}}})},refreshFilters:function(e){var i=this;var t=this.getTables(e.mode);var r=e.filterController.getPopulationFilter(e.userInfo.user,e.mode);$.each(t,function(i,t){var l=[...r].concat(e.filterController.getAllFilters(e,t.Filter));var n=e.getView().byId(t.Table)||sap.ui.getCore().byId(t.Table);if(n){var a=n.getBinding("items");if(a&&a.filter){a.filter(l)}}})},initializeTable:function(e,i){var t=this;var r=this.getTables(e.mode).filter(function(e){return i===e.Table});var l=e.filterController.getPopulationFilter(e.userInfo.user,e.mode);$.each(r,function(i,t){var r=e.getView().byId(t.Table)||sap.ui.getCore().byId(t.Table);var n=l.concat(e.filterController.getAllFilters(e,t.Filter));if(r){var a=r.getBinding("items");if(a&&a.filter){a.filter(n)}}})}})},false);
//# sourceMappingURL=TablesController.js.map